# Copy this file to .env and fill in your values
# DO NOT commit .env to version control

# Database Configuration
DATABASE_URL=postgresql://user:password@localhost:5432/referral_portal?schema=public

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Server Configuration
PORT=4000
NODE_ENV=development

# Frontend URL (Required in production for CORS)
FRONTEND_URL=http://localhost:3000

# Email Configuration
# Option 1: SendGrid API (Recommended for Railway/cloud hosting)
# Uses HTTPS port 443 - works on platforms that block SMTP ports
SENDGRID_API_KEY=SG.your-sendgrid-api-key-here

# Option 2: SMTP (Works for local development, Gmail, etc.)
# If SENDGRID_API_KEY is set, SMTP settings are ignored
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Common settings (used by both methods)
FROM_EMAIL="Referral Portal <your-email@gmail.com>"

# Admin Email (Optional - for receiving EOI notifications)
ADMIN_EMAIL=admin@example.com

# EOI Daily Limit (Optional - defaults to 20)
EOI_DAILY_LIMIT=20

# Redis Configuration (Optional - for production OTP and rate limiting)
# REDIS_URL=redis://localhost:6379

# Twilio Configuration (Required for OTP/SMS)
# Get these from: https://console.twilio.com/
TWILIO_ACCOUNT_SID=your_account_sid_here
TWILIO_AUTH_TOKEN=your_auth_token_here
TWILIO_VERIFY_SERVICE_SID=VAyour_verify_service_sid_here

# Note: Email Configuration Priority
# 1. If SENDGRID_API_KEY is set → Uses SendGrid API (works on Railway/cloud)
# 2. Otherwise → Uses SMTP configuration (works locally with Gmail)
# 
# For Local Development: Keep Gmail SMTP settings
# For Railway/Cloud: Set SENDGRID_API_KEY (removes need for SMTP_* variables)
#
# OTP Configuration:
# - If Twilio credentials are set → Uses Twilio Verify Service (production)
# - If not set → Falls back to dev mode (logs OTP to console)